package android.util;

public class ZRHung {
    public static final short APPEYE_ANR = (short) 267;
    public static final short APPEYE_BASE = (short) 256;
    public static final short APPEYE_BF = (short) 264;
    public static final short APPEYE_BINDER_TIMEOUT = (short) 281;
    public static final short APPEYE_CANR = (short) 269;
    public static final short APPEYE_CL = (short) 265;
    public static final short APPEYE_CLA = (short) 266;
    public static final short APPEYE_CRASH = (short) 287;
    public static final short APPEYE_FWB_FREEZE = (short) 271;
    public static final short APPEYE_FWB_WARNING = (short) 270;
    public static final short APPEYE_FWE = (short) 274;
    public static final short APPEYE_MANR = (short) 268;
    public static final short APPEYE_MT = (short) 279;
    public static final short APPEYE_MTO_FREEZE = (short) 261;
    public static final short APPEYE_MTO_INPUT = (short) 263;
    public static final short APPEYE_MTO_SLOW = (short) 262;
    public static final short APPEYE_NFW = (short) 272;
    public static final short APPEYE_NONE = (short) 256;
    public static final short APPEYE_OBS = (short) 277;
    public static final short APPEYE_RCV = (short) 276;
    public static final short APPEYE_RECOVER_RESULT = (short) 278;
    public static final short APPEYE_SBF = (short) 275;
    public static final short APPEYE_SBF_FREEZE = (short) 282;
    public static final short APPEYE_SBF_RECOVER = (short) 283;
    public static final short APPEYE_SUIP_FREEZE = (short) 285;
    public static final short APPEYE_SUIP_INPUT = (short) 286;
    public static final short APPEYE_SUIP_WARNING = (short) 284;
    public static final short APPEYE_TEMP1 = (short) 288;
    public static final short APPEYE_TEMP2 = (short) 289;
    public static final short APPEYE_TEMP3 = (short) 290;
    public static final short APPEYE_TWIN = (short) 273;
    public static final short APPEYE_UIP_FREEZE = (short) 258;
    public static final short APPEYE_UIP_INPUT = (short) 260;
    public static final short APPEYE_UIP_RECOVER = (short) 280;
    public static final short APPEYE_UIP_SLOW = (short) 259;
    public static final short APPEYE_UIP_WARNING = (short) 257;
    public static final int CONFIG_OK = 0;
    public static final int NOT_READY = 1;
    public static final int NOT_SUPPORT = -1;
    public static final int NO_CONFIG = -2;
    public static final String TAG = "ZRHung";
    public static final short XCOLLIE_BASE = (short) 1024;
    public static final short XCOLLIE_FWK_SERVICE = (short) 1025;
    public static final short XCOLLIE_NONE = (short) 1024;
    public static final short ZRHUNG_CAT_APPEYE = (short) 1;
    public static final short ZRHUNG_CAT_EVENT = (short) 2;
    public static final short ZRHUNG_CAT_NUM_MAX = (short) 3;
    public static final short ZRHUNG_CAT_SYS = (short) 0;
    public static final short ZRHUNG_CAT_XCOLLIE = (short) 4;
    public static final short ZRHUNG_EVENT_BACKKEY = (short) 516;
    public static final short ZRHUNG_EVENT_BASE = (short) 512;
    public static final short ZRHUNG_EVENT_HOMEKEY = (short) 515;
    public static final short ZRHUNG_EVENT_LONGPRESS = (short) 513;
    public static final short ZRHUNG_EVENT_MULTIPRESS = (short) 517;
    public static final short ZRHUNG_EVENT_NONE = (short) 512;
    public static final short ZRHUNG_EVENT_POWERKEY = (short) 514;
    public static final short ZRHUNG_EVENT_TEMP1 = (short) 518;
    public static final short ZRHUNG_EVENT_TEMP2 = (short) 519;
    public static final short ZRHUNG_EVENT_TEMP3 = (short) 520;
    public static final short ZRHUNG_WP_APPFREEZE = (short) 23;
    public static final short ZRHUNG_WP_APPFRZ_WARNING = (short) 24;
    public static final short ZRHUNG_WP_BASE = (short) 0;
    public static final short ZRHUNG_WP_CAMERA = (short) 27;
    public static final short ZRHUNG_WP_CPU = (short) 7;
    public static final short ZRHUNG_WP_FDLEAK = (short) 26;
    public static final short ZRHUNG_WP_FENCE = (short) 10;
    public static final short ZRHUNG_WP_FOCUS_WIN = (short) 15;
    public static final short ZRHUNG_WP_GC = (short) 8;
    public static final short ZRHUNG_WP_GPU = (short) 13;
    public static final short ZRHUNG_WP_HTSK_WARNING = (short) 25;
    public static final short ZRHUNG_WP_HUNGTASK = (short) 1;
    public static final short ZRHUNG_WP_INIT = (short) 21;
    public static final short ZRHUNG_WP_IO = (short) 6;
    public static final short ZRHUNG_WP_IPC_OBJECT = (short) 19;
    public static final short ZRHUNG_WP_IPC_THREAD = (short) 18;
    public static final short ZRHUNG_WP_LCD = (short) 16;
    public static final short ZRHUNG_WP_LMKD = (short) 5;
    public static final short ZRHUNG_WP_NONE = (short) 0;
    public static final short ZRHUNG_WP_RES_LEAK = (short) 17;
    public static final short ZRHUNG_WP_SCREENOFF = (short) 3;
    public static final short ZRHUNG_WP_SCREENON = (short) 2;
    public static final short ZRHUNG_WP_SCRNONFWK = (short) 11;
    public static final short ZRHUNG_WP_SERVICE = (short) 12;
    public static final short ZRHUNG_WP_SR = (short) 4;
    public static final short ZRHUNG_WP_TEMP1 = (short) 29;
    public static final short ZRHUNG_WP_TEMP2 = (short) 30;
    public static final short ZRHUNG_WP_TEMP3 = (short) 31;
    public static final short ZRHUNG_WP_TP = (short) 9;
    public static final short ZRHUNG_WP_TRANS_WIN = (short) 14;
    public static final short ZRHUNG_WP_UFS = (short) 20;
    public static final short ZRHUNG_WP_UPLOAD_BIGDATA = (short) 28;
    public static final short ZRHUNG_WP_VMWATCHDOG = (short) 22;

    public static final class HungConfig {
        public final int status;
        public final String value;

        private HungConfig() {
            this.status = -1;
            this.value = null;
        }

        private HungConfig(int s, String val) {
            this.status = s;
            this.value = val;
        }
    }

    public static boolean sendHungEvent(short wp, String cmdBuf, String Buf) {
        if (cmdBuf == null) {
            cmdBuf = "";
        }
        if (Buf == null) {
            Buf = "";
        }
        try {
            return IMonitorNative.sendHungEvent(wp, cmdBuf, Buf);
        } catch (UnsatisfiedLinkError e) {
            Log.e(TAG, "sendHungEvent failed for no implementation of native");
            return false;
        }
    }

    public static HungConfig getHungConfig(short wp) {
        try {
            byte[] data = new byte[512];
            int status = IMonitorNative.getHungConfig(wp, data);
            if (status < 0) {
                return null;
            }
            return new HungConfig(status, bytesToString(data));
        } catch (UnsatisfiedLinkError e) {
            Log.e(TAG, "getHungConfig failed for no implementation of native");
            return null;
        }
    }

    private static String bytesToString(byte[] bs) {
        StringBuilder s = new StringBuilder();
        int length = bs.length;
        int i = 0;
        while (i < length && bs[i] != (byte) 0) {
            s.append(String.format("%c", new Object[]{Byte.valueOf(bs[i])}));
            i++;
        }
        return s.toString();
    }
}
